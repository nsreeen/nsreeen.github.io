<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>nsreeen</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Quicksand" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Nunito" rel="stylesheet">

<style>
body {
  /* margin-top: 30px; */
  /* color: #333333 !important; */
  font-family: sans-serif;
  font-size: 1.6em !important;
  line-height: 1.5;
}

a {
  color: #021245;
  text-decoration: underline;
 }
a:hover {
  color: #5384a2;
}
home-link {
  padding-bottom: 5px;
  margin-bottom: 10px;
}
h1 {
  padding-top: 15px;
  padding-bottom: 10px;
  border-bottom: 1px solid grey;
  background-color: #cadee0;
}

h2 {
  padding-top: 10px;
  padding-bottom: 5px;
}

h3 {
  padding-top: 10px;
  padding-bottom: 5px;
}

h5 {
  font-size: : 6px;
}

table {
  margin: 20px;
  border-spacing: 30px 0;
  border-collapse: collapse;
}

td,th {
  padding: 10px;
  border: 1px solid grey;
}

/* .page-list-item {
  list-style: none;
  text-decoration: none;
  margin-bottom: 5px;
} */
/* .page-list {
  padding: 0;
} */
/*hr {
  border: 1px solid grey;
}*/
/* header {
  border-bottom: 10px solid #5384a2;
} */
img {
  max-width: 50%;
}
.container {
  min-height: calc(100vh - 100px);
  height: 100%;
  max-width: 70%;
  /*position: relative;*/
}
.footer {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-top: 20px;
  margin-bottom: 20px;
  border-top: 1px solid grey;
  font: 1.5em !important;;
  /* bottom:0; */
  height: 40px;
}

code {
  color: #021245;
  background-color: #dfe6e0;
}

</style>
</head>

<body>
  <section class="section">
    <div class="container">
      
<h1 class="title">
  RC 2022 Day 3 - forks
</h1>
<p class="subtitle"><strong>2022-08-10</strong></p>
<p>I wrote part of a shell in Python today, with the <code>os</code> library to make system calls.  I'm using a couple of really <a href="https://github.com/tokenrove/build-your-own-shell">nice</a> <a href="https://github.com/kamalmarhubi/shell-workshop">tutorials</a> as well as the shell source <a href="https://github.com/bminor/bash">code</a> (with the help of this <a href="https://www.aosabook.org/en/bash.html">summary</a>).</p>
<p>My shell accepts input and forks to create a child process.  It doesn't actually execute commands successfully yet, I might continue working on that another day!</p>
<p>One thing I found interesting was how <code>fork</code> works.  When <code>fork</code> is called, the current process is cloned, and both those processes continue stepping through the code.  The way to tell the two processes apart is by the return value of <code>fork</code>: in the child process it returns 0, while in the parent process it returns the child's process id.</p>
<p>For example:</p>
<pre data-lang="python" style="background-color:#2b303b;color:#c0c5ce;" class="language-python "><code class="language-python" data-lang="python"><span style="color:#b48ead;">import </span><span>os
</span><span>fork_return_value = os.</span><span style="color:#bf616a;">fork</span><span>()
</span><span style="color:#96b5b4;">print</span><span>(</span><span style="color:#b48ead;">f</span><span>&quot;</span><span style="color:#96b5b4;">\n</span><span style="color:#a3be8c;"> fork return value: </span><span>{fork_return_value}</span><span style="color:#a3be8c;"> current process id: </span><span>{os.</span><span style="color:#bf616a;">getpid</span><span>()}&quot;)
</span></code></pre>
<p>Results in the following being printed:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span> fork return value: 37625 current process id: 37615
</span><span>
</span><span> fork return value: 0 current process id: 37625
</span></code></pre>
<p>The first line is printed from the parents process, the second line is printed from the child process.  This is useful because it means that in the parent process, we can wait for the child process to finish as we have its id.</p>
<p>I also met a few more people today and had some great chats :)</p>


    </div>
  </section>

  <div class="footer">
    <div class="col-sm-8 col-sm-offset-2 footer-content">
      <script async defer src="https://www.recurse-scout.com/loader.js?t=d304529d7dd9725612669b298fef0b5c"></script>
    </div>
  </div>

</body>

</html>
